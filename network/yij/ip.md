## IP 프로토콜 - 네트워크 상에서 데이터를 교환하기 위한 프로토콜

데이터가 정확하게 전달될 것을 보장하지 않는다

중복된 패킷을 전달하거나 패킷의 순서를 잘못 전달할 가능성도 있다(악의적으로 이용하면 Dos 공격이 된다).

데이터의 정확하고 순차적인 전달은 그보다 상위 프로토콜인 TCP에서 보장한다



- version : IPv4 or IPv6인데 현재 IPv4를 사용

- IHL : (헤더의 길이)/4 를 2진수로 표현

- Total Length : PayLoad까지 합친 헤더의 길이

- Identification & IP Flags & Fragment Offset : 
- IP Flags : D - 패킷을 조각화하지 않겠다 / M - 첫 번째 패킷 뒤에 패킷이 더 있다는 것을 알림
- Fragment Offset : 조각화된 패킷의 순서를 알아내기 위함 
- TTL : 패킷이 살아있을 수 있는 시간
- Protocol : 전송계층 프로토콜 종류(상위 프로토콜)
- Header Checksum : 헤더에 오류가 있는지 체크하기 위함
<br>

### IPv4의 조각화
: 큰 IP 패킷들이 적은 MTU(Maximum Transmission Unit)를 갖는 링크를 통해 전송되려면 여러 개의 작은 패킷으로 쪼개어/조각화되어 전송되어야 한다.
즉, 목적지까지 패킷을 전달하는 과정에서 통과하는 각 라우터마다 전송에 적합한 프레임으로의 변환이 필요하다.
일단 조각화되면, 최종 목적지에 도달할 때 까지 재조립되지 않는 것이 일반적이다.
- IPv4에서는 발신지 뿐 아니라 중간 라우터에서도 IP 조각화가 가능
- IPv6에서는 IP단편화가 발신지에서만 가능
- 재조립은 항상 최종 수신지에서만 가능


## ICMP 프로토콜 - Internet Control Message Protocol

네트워크 컴퓨터 위에서 돌아가는 운영체제에서 오류 메시지를 전송 받는 데 주로 쓰인다

프로토콜 구조의 Type과 Code를 통해 오류 메시지를 전송 받는다

- 0 - 응답
- 8 - 요청
- 3 - 목적지까지 도달하지 못함
- 11 - 목적지에는 도달했으나 응답받지 못함(ex. 방화벽)
- 5 - 옛날에 쓰던 것으로 