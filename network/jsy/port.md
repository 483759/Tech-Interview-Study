# :question: 전송계층 및 포트

#### reference
https://www.youtube.com/watch?v=3MkI3FBFzX8&list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi&index=19
<hr>

## Question
1. [Port란 무엇인가요?](#1-port)
- 컴퓨터 안에서 여러 개의 프로세스 중, 특정 프로세스를 찾을 때 사용하는 번호입니다.
- 그래서 하나의 포트는 하나의 프로세스에만 할당됩니다.
- 반대로 하나의 프로세스는 여러 개의 포트를 사용할 수 있습니다.
<br><br/>

2. [서버 측에서 사용되는 포트는 이미 정해져 있습니다. 주요 Well-Known Port에 대해 아는대로 설명해주세요.](#1-well-known-port)
- 중요하게 알아야 할 포트로는, 0, 20, 21, 22, 53, 80, 443번 정도가 있습니다.
- 0번은 TCP/IP 네트워킹에서 예약된 포트이기 때문에, 사용하지 않는 포트입니다.
- 20,21번은 FTP 에서 사용하고, 22번은 SSH, 53번은 DNS에서 사용하는 포트입니다.
- 웹 서비스에서 사용하는 포트로는 HTTP 80번, HTTPS 443번이 있습니다.
<br><br/>

3. [클라이언트와 서버의 통신 과정에 대해 설명해주세요.](#2-client-와-server-의-통신-과정)
- 클라이언트가 사용하는 포트는 다이나믹 포트이기 때문에, 포트 번호가 정해져 있지 않고 랜덤하게 정해집니다. 
- 서버가 사용하는 포트는 80번으로 정해져있지만, 절대적인 것은 아닙니다.
- 그래서, 클라이언트에서 랜덤하게 사용할 포트 번호를 결정한 후, 서버의 포트 80번으로 접속하는 과정을 거칩니다.
<hr/>

## :nerd_face:	What I study
### 1. Port
- like 4계층에서 사용하는 주소
- 컴퓨터 안에서 특정 프로세스(프로그램)를 찾을 때 사용한다.
- 특정 프로세스와 특정 프로세스가 통신을 하기 위해 사용한다.
- ***하나의 포트는 하나의 프로세스만*** 사용해야한다.
- 하나의 프로세스가 여러 개의 포트를 사용하는 것은 가능하다.
- **포트 번호는 일반적으로 정해져 있지만, 무조건 지켜야 하는 것은 아니다.**
#### 1) Well-known Port
- 서버 프로그램이 수신 대기할 때 사용하는 포트
- 0 ~ 1023 번 할당
- 0번 포트는 TCP/IP 네트워킹에서 예약된 포트이기 때문에, <br> TCP, UDP 메시지에서 사용하면 안된다.

|서비스 이름|포트 번호|
|:---:|:---:|
|***예약됨(사용하지 않음)***|0| 
|FTP(파일 전송 프로토콜)|20, 21|
|SSH(원격 제어, 보안 기능 O)|22|
|TELNET(원격 제어)|23|
|SMTP(이메일 전송)|25|
|DNS(Domain Name System)|53|
|DHCP(동적 호스트 구성 프로토콜)|67, 68|
|TFTP(파일 전송 프로토콜)|69|
|***HTTP***(웹)|80|
|POP3(이메일 수신)|110|
|IMAP4(이메일 수신, 보관 기능 O)|143|
|***HTTPS***(웹, 보안 기능 O)|443|

#### 2) Registered Port
- 벤더(서버 소프트웨어)가 할당받아 사용하는 포트
- 1024 ~ 49151 번 할당

|서비스 이름|포트 번호|
|:---:|:---:|
|오라클 DB 서버|1521|
|MySQL 서버|3306|
|MS 원격 데스크탑|3389|

#### 3) Dynamic Port
- 클라이언트 프로그램이 사용하는 포트
- 49152 ~ 65535 번 할당
- 클라이언트가 사용하는 포트 번호는 다이나믹 포트 번호 대역에서 자동으로 할당된다.
- 그러므로, 어떤 번호가 사용될지 미리 알 수 없다.
<br><br/>

### 2. client 와 server 의 통신 과정
#### 1) client ?
- 서비스 및 데이터를 요청하는 쪽
- 해당 서버에 접속하여 데이터를 사용한다.
#### 2) server ?
- 서비스 및 데이터를 제공하는 쪽
- 데이터를 저장하고 관리한다.
#### 3) 서버/클라이언트 구조 관점에서 본 통신 과정 (HTTP)
- 클라이언트가 사용할 포트를 결정한 후(랜덤 포트), 서버의 포트에 접속한다. (80번)
  - 서버 측에서 수신 대기하는 포트 번호는 80번이다.
  - 80번 포트는 절대적인 것이 아니며, 포트 번호는 바뀔 수 있다. <br> (다만, 포트를 바꾸면 바뀐 번호를 사용자가 직접 찾아서 접속해야 하기 때문에 웬만하면 바뀌지 않는다.)
  - 웹 브라우저(클라이언트)는 dynamic 포트를 사용하기 때문에 포트 번호가 정해져 있지 않다.